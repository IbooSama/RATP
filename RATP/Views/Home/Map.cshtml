<div id='map' style='width: 100%; height: 500px;'></div>
<script>
    var str = @Html.Raw(ViewData["stations"]);
    console.log(str);
    var points = [];

    str.forEach(function(station) {
        var point = {
            type: "",
            geometry: {
                type: "",
                coordinates: []
            },
            properties: {
                icon: ""
            }
        };
        point.type = "Feature";
        point.geometry.type = "Point";
        point.geometry.coordinates = [station.Longitude, station.Latitude];
        point.properties.icon = "circle-stroked";
        points.push(point);
    });
    console.log(points);
    mapboxgl.accessToken = 'pk.eyJ1IjoiY3Zlcm5lcmllIiwiYSI6ImNqZXNuY2hxZzB1NngzMm1ybnRsZ3RlZGIifQ.7e86RTnhVOvzrJDMG8VbnQ';
    var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v9',
    center: [2.333333, 48.866667],
    zoom: 11
    });

    map.on('load', function () {
        map.addLayer({
        "id": "points",
        "type": "symbol",
        "source": {
            "type": "geojson",
            "data": {
                "type": "FeatureCollection",
                "features": points
            }
        },
        "layout": {
            "icon-image": "{icon}-11",
            "text-field": "{title}",
            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
            "text-offset": [0, 0.6],
            "text-anchor": "top"
        }
    });
    });
</script>